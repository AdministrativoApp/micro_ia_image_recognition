# ---- NUMERIC CORE (match TF/Sklearn on py3.11) ----
numpy==1.26.4            # was 2.2.6 → pin <2 for broad wheel compat
scipy==1.11.4            # compatible with numpy 1.26
scikit-learn==1.4.2      # compatible with numpy/scipy above

# ---- OPENCV (choose ONE) ----
opencv-python-headless==4.12.0.88   # keep headless only
# REMOVE: opencv-python, opencv-contrib-python

# ---- DATABASE ----
psycopg2-binary==2.9.10

# ---- VISION/OCR ----
easyocr==1.7.2
pytesseract==0.3.13      # needs tesseract-ocr binary at runtime (install via apt if you use it)
shapely==2.1.1
pyclipper==1.3.0.post6
imageio==2.37.0
scikit-image==0.25.2
pillow==11.3.0

# ---- MEDIA/ML STACK (TensorFlow & Mediapipe) ----
tensorflow==2.19.0
tensorflow-io-gcs-filesystem==0.37.1
mediapipe==0.10.21
protobuf==4.25.8
absl-py==2.3.1
gast==0.6.0
ml_dtypes==0.5.1
flatbuffers==25.2.10
opt_einsum==3.4.0
libclang==18.1.1
wrapt==1.17.2
termcolor==3.1.0
six==1.17.0
Markdown==3.8.2
tensorboard==2.19.0
tensorboard-data-server==0.7.2
Werkzeug==3.1.3

# ---- PYTORCH (CPU-ONLY; install via PyTorch CPU index in Dockerfile) ----
# Remove these THREE lines from requirements:
# torch==2.8.0
# torchvision==0.23.0
# triton==3.4.0
# (We’ll install torch/vision CPU wheels separately; triton not needed for CPU)

# ---- REMOVE ALL CUDA PINS (GPU-only; not for CPU containers) ----
# nvidia-cublas-cu12==...
# nvidia-cuda-...-cu12==...
# nvidia-cudnn-cu12==...
# nvidia-nccl-cu12==...
# nvidia-nvjitlink-cu12==...
# nvidia-nvtx-cu12==...
# (delete all the nvidia-* lines)

# ---- JAX (pin to CPU-friendly version compatible with numpy 1.26) ----
jax==0.4.25
jaxlib==0.4.25

# ---- SERVER/WEB ----
fastapi==0.116.1
uvicorn==0.35.0
starlette==0.47.2
watchfiles==1.1.0
websockets==15.0.1
httptools==0.6.4
uvloop==0.21.0
python-multipart==0.0.20
rich==14.0.0

# ---- UTILITIES / MISC (keep as-is) ----
annotated-types==0.7.0
anyio==4.9.0
attrs==25.3.0
certifi==2025.7.14
cffi==1.17.1
charset-normalizer==3.4.2
click==8.2.1
contourpy==1.3.2
cycler==0.12.1
faiss-cpu==1.12.0
filelock==3.19.1
fonttools==4.59.0
fsspec==2025.7.0
google-pasta==0.2.0
grpcio==1.73.1
h11==0.16.0
h5py==3.14.0
idna==3.10
Jinja2==3.1.6
joblib==1.5.1
keras==3.10.0
kiwisolver==1.4.8
lazy_loader==0.4
markdown-it-py==3.0.0
MarkupSafe==3.0.2
matplotlib==3.10.3
mdurl==0.1.2
mpmath==1.3.0
namex==0.1.0
networkx==3.5
ninja==1.13.0
optree==0.16.0
packaging==25.0
Pygments==2.19.2
pyparsing==3.2.3
python-bidi==0.6.6
python-dateutil==2.9.0.post0
python-dotenv==1.1.1
PyYAML==6.0.2
requests==2.32.4
sentencepiece==0.2.0
sniffio==1.3.1
sounddevice==0.5.2     # runtime may need libportaudio2
sympy==1.14.0
tifffile==2025.6.11
typing-inspection==0.4.1
typing_extensions==4.14.1
urllib3==2.5.0
